---
import { Menu } from 'lucide-react';
import { ui, defaultLang } from '../i18n/ui';

const currentPath = Astro.url.pathname;
const currentLang = (currentPath.split('/')[1] in ui) ? currentPath.split('/')[1] as keyof typeof ui : defaultLang;

const t = ui[currentLang];

const links = [
  { href: `/${currentLang}`, text: t['nav.home'] },
  { href: `/${currentLang}/accommodatie`, text: t['nav.rooms'] },
  { href: `/${currentLang}/omgeving`, text: t['nav.surroundings'] },
  { href: `/${currentLang}/contact`, text: t['nav.contact'] },
];
---

<header class="bg-white/95 backdrop-blur-sm fixed w-full top-0 z-50 border-b border-stone-100 shadow-sm transition-all duration-300">
  <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
    <a href={`/${currentLang}`} class="text-2xl font-serif font-bold text-green-900 tracking-tight hover:opacity-80 transition">
      B&B De Tol
    </a>

    <!-- Desktop Nav -->
    <div class="hidden md:flex items-center gap-10">
      <nav class="flex gap-8">
        {links.map(link => (
          <a href={link.href} class="text-stone-600 hover:text-green-800 font-medium text-sm uppercase tracking-wide transition relative group">
            {link.text}
            <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-green-800 transition-all group-hover:w-full"></span>
          </a>
        ))}
      </nav>
      
      <a href={`/${currentLang}/contact`} class="bg-green-800 text-white px-6 py-2.5 rounded-full font-bold text-sm tracking-wide shadow-md hover:bg-green-900 hover:shadow-lg hover:-translate-y-0.5 transition-all">
        {t['btn.reserve']}
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button class="md:hidden p-2 text-stone-600 hover:text-green-800 hover:bg-stone-50 rounded-lg transition">
      <Menu />
    </button>
  </div>
</header>
<div class="h-16"></div> <!-- Spacer -->
